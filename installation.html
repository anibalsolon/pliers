

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Installing pliers &mdash; pliers 0.4.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quickstart" href="quickstart.html" />
    <link rel="prev" title="pliers: a python package for automated feature extraction" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pliers
          

          
          </a>

          
            
            
              <div class="version">
                0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installing pliers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pip">PIP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#docker">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-keys">API Keys</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic-concepts.html">Basic concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="stimuli.html">Stims</a></li>
<li class="toctree-l1"><a class="reference internal" href="transformers.html">Transformers</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphs.html">Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuring pliers</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Pliers API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pliers</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Installing pliers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installing-pliers">
<h1>Installing pliers<a class="headerlink" href="#installing-pliers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="pip">
<h2>PIP<a class="headerlink" href="#pip" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to install pliers is with pip. For the latest stable release:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pliers</span>
</pre></div>
</div>
<p>Or, if you want to work on the bleeding edge:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pliers</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">psychoinformaticslab</span><span class="o">/</span><span class="n">pliers</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<div class="section" id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h3>
<p>By default, installing pliers with pip will only install third-party libraries that are essential for pliers to function properly. These libraries are listed in requirements.txt. However, because pliers provides interfaces to a large number of feature extraction tools, there are literally dozens of other optional dependencies that may be required depending on
what kinds of features you plan to extract (see optional-dependencies.txt). To be on the safe side, you can install all of the optional dependencies with pip:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pliers</span><span class="p">[</span><span class="nb">all</span><span class="p">]</span>
</pre></div>
</div>
<p>Or, if you installed via GitHub clone:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">optional</span><span class="o">-</span><span class="n">dependencies</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Note, however, that some of these Python dependencies have their own (possibly platform-dependent) requirements. Most notably, python-magic requires libmagic (see <a class="reference external" href="https://github.com/ahupp/python-magic#dependencies">here</a> for installation instructions), and without this, you’ll be relegated to loading all your stims explicitly rather than passing in filenames (i.e., <code class="code py python docutils literal notranslate"><span class="name"><span class="pre">stim</span></span> <span class="operator"><span class="pre">=</span></span> <span class="name"><span class="pre">VideoStim</span></span><span class="punctuation"><span class="pre">(</span></span><span class="literal string single"><span class="pre">‘my_video.mp4’</span></span></code>) will work fine, but passing ‘my_video.mp4’ directly to an <code class="xref py py-class docutils literal notranslate"><span class="pre">Extractor</span></code> will not). Additionally, the Python OpenCV bindings require <a class="reference external" href="http://opencv.org/">OpenCV3</a> (which can be a bit more challenging to install)–but relatively few of the feature extractors in pliers currently depend on OpenCV, so you may not need to bother with this. Similarly, the <code class="xref py py-class docutils literal notranslate"><span class="pre">TesseractConverter</span></code> requires the tesseract OCR library, but no other <code class="xref py py-class docutils literal notranslate"><span class="pre">Transformer</span></code> does, so unless you’re planning to capture text from images, you’re probably safe.</p>
</div>
</div>
<div class="section" id="docker">
<h2>Docker<a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h2>
<p>If you have docker installed on your machine, you can run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">p</span> <span class="mi">8888</span><span class="p">:</span><span class="mi">8888</span> <span class="n">ghcr</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">psychoinformaticslab</span><span class="o">/</span><span class="n">pliers</span><span class="p">:</span><span class="n">unstable</span>
</pre></div>
</div>
<p>The above command will open a jupyter notebook you can connect to by copy/pasting the
url displayed on the terminal with the form <code class="docutils literal notranslate"><span class="pre">http://127.0.0.1:8888/?token=&lt;some_token&gt;</span></code>
to your browser.
The <code class="docutils literal notranslate"><span class="pre">unstable</span></code> tag can be replaced with a versioned tag like <code class="docutils literal notranslate"><span class="pre">0.4.2</span></code>.
If you wish to publish data/results using pliers, please use a versioned tag.
Using a versioned tag ensures the image you are using today will be the same
for all time, whereas the <code class="docutils literal notranslate"><span class="pre">unstable</span></code> tag will change periodically as pliers is updated.
<a class="reference external" href="https://github.com/orgs/PsychoinformaticsLab/packages/container/package/pliers">You can see available versioned tags on github</a>.</p>
<p>If you want to save your work you will need to mount a directory onto the docker image.
By default, the jupyter notebook opens in the <code class="docutils literal notranslate"><span class="pre">/work</span></code> directory, so we will
mount a directory in the <code class="docutils literal notranslate"><span class="pre">/work</span></code> directory:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">v</span> <span class="o">/</span><span class="n">my</span><span class="o">/</span><span class="n">directory</span><span class="p">:</span><span class="o">/</span><span class="n">work</span> <span class="o">-</span><span class="n">p</span> <span class="mi">8888</span><span class="p">:</span><span class="mi">8888</span> <span class="n">ghcr</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">psychoinformaticslab</span><span class="o">/</span><span class="n">pliers</span><span class="p">:</span><span class="n">unstable</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">/my/directory</span></code> is replaced with a path to a directory that you want to save.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using windows, here is the way to specify a directory <code class="docutils literal notranslate"><span class="pre">-v</span> <span class="pre">'C:\My</span> <span class="pre">Dir\With</span> <span class="pre">Spaces:/work'</span></code>.
Use quotes to surround the entire argument, not just the windows path.</p>
</div>
<p>If you want to build your own pliers docker image, you will need to clone the pliers repository
and use <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">build</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">psychoinformaticslab</span><span class="o">/</span><span class="n">pliers</span><span class="o">.</span><span class="n">git</span>
<span class="n">docker</span> <span class="n">build</span> <span class="o">--</span><span class="n">target</span> <span class="n">executable</span> <span class="o">-</span><span class="n">t</span> <span class="n">pliers</span><span class="p">:</span><span class="n">dev</span> <span class="o">-</span><span class="n">f</span> <span class="o">./</span><span class="n">pliers</span><span class="o">/</span><span class="n">docker</span><span class="o">/</span><span class="n">Dockerfile</span> <span class="o">./</span><span class="n">pliers</span>
</pre></div>
</div>
<p>The flag <code class="docutils literal notranslate"><span class="pre">-t</span></code> specifies the tagged name of the image, which can be any valid docker image name,
<code class="docutils literal notranslate"><span class="pre">pliers:dev</span></code> is an example name.</p>
</div>
<div class="section" id="api-keys">
<h2>API Keys<a class="headerlink" href="#api-keys" title="Permalink to this headline">¶</a></h2>
<p>While installing pliers itself is usually straightforward, setting up some of the web-based feature extraction APIs that pliers interfaces with can take a bit more effort. For example, pliers includes support for face and object recognition via Google’s Cloud Vision API, and enables conversion of audio files to text transcripts via several different speech-to-text services. While some of these APIs are free to use (and virtually all provide a limited number of free monthly calls), they all require each user to register for their own API credentials. This means that, in order to get the most out of pliers, you’ll probably need to spend some time registering accounts on a number of different websites. The following table lists all of the APIs supported by pliers at the moment, along with registration URLs:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 41%" />
<col style="width: 15%" />
<col style="width: 13%" />
<col style="width: 16%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Transformer class</p></th>
<th class="head"><p>Web service</p></th>
<th class="head"><p>Environment variable(s)</p></th>
<th class="head"><p>Variable description</p></th>
<th class="head"><p>Example values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>WitTranscriptionConverter</p></td>
<td><p><a class="reference external" href="http://wit.ai">Wit.ai speech-to-text API</a></p></td>
<td><p>WIT_AI_API_KEY</p></td>
<td><p>Server Access Token</p></td>
<td><p>A27C1HPZBEDVLW1T1IJAR3L2Q2DA6K3D</p></td>
</tr>
<tr class="row-odd"><td><p>IBMSpeechAPIConverter</p></td>
<td><p><a class="reference external" href="https://www.ibm.com/watson/developercloud/speech-to-text.html">IBM Watson speech-to-text API</a></p></td>
<td><p>IBM_USERNAME
IBM_PASSWORD</p></td>
<td><p>API username and password</p></td>
<td><p>98452-bvc42-fd-42221-cv21 (username*)
FJ14fns21N1f (password)</p></td>
</tr>
<tr class="row-even"><td><p>GoogleSpeechAPIConverter</p></td>
<td><p><a class="reference external" href="https://cloud.google.com/speech/">Google Cloud Speech API</a></p></td>
<td><p>GOOGLE_APPLICATION_CREDENTIALS</p></td>
<td><p>path to .json discovery file</p></td>
<td><p>path/to/credentials.json</p></td>
</tr>
<tr class="row-odd"><td><p>GoogleVisionAPITextConverter</p></td>
<td><p><a class="reference external" href="https://cloud.google.com/vision/">Google Cloud Vision API</a></p></td>
<td><p>GOOGLE_APPLICATION_CREDENTIALS</p></td>
<td><p>path to .json discovery file</p></td>
<td><p>path/to/credentials.json</p></td>
</tr>
<tr class="row-even"><td><p>GoogleVisionAPIFaceExtractor</p></td>
<td><p><a class="reference external" href="https://cloud.google.com/vision/">Google Cloud Vision API</a></p></td>
<td><p>GOOGLE_APPLICATION_CREDENTIALS</p></td>
<td><p>path to .json discovery file</p></td>
<td><p>path/to/credentials.json</p></td>
</tr>
<tr class="row-odd"><td><p>GoogleVisionAPILabelExtractor</p></td>
<td><p><a class="reference external" href="https://cloud.google.com/vision/">Google Cloud Vision API</a></p></td>
<td><p>GOOGLE_APPLICATION_CREDENTIALS</p></td>
<td><p>path to .json discovery file</p></td>
<td><p>path/to/credentials.json</p></td>
</tr>
<tr class="row-even"><td><p>GoogleVisionAPIPropertyExtractor</p></td>
<td><p><a class="reference external" href="https://cloud.google.com/vision/">Google Cloud Vision API</a></p></td>
<td><p>GOOGLE_APPLICATION_CREDENTIALS</p></td>
<td><p>path to .json discovery file</p></td>
<td><p>path/to/credentials.json</p></td>
</tr>
<tr class="row-odd"><td><p>GoogleVisionAPIWebEntitiesExtractor</p></td>
<td><p><a class="reference external" href="https://cloud.google.com/vision/">Google Cloud Vision API</a></p></td>
<td><p>GOOGLE_APPLICATION_CREDENTIALS</p></td>
<td><p>path to .json discovery file</p></td>
<td><p>path/to/credentials.json</p></td>
</tr>
<tr class="row-even"><td><p>MicrosoftAPITextConverter</p></td>
<td><p><a class="reference external" href="https://azure.microsoft.com/try/cognitive-services/my-apis/">Microsoft Computer Vision API</a></p></td>
<td><p>MICROSOFT_VISION_SUBSCRIPTION_KEY
MICROSOFT_SUBSCRIPTION_LOCATION</p></td>
<td><p>API key and
registered region</p></td>
<td><p>152b067184e2ae03711e6439de124c27
westus</p></td>
</tr>
<tr class="row-odd"><td><p>MicrosoftVisionAPIExtractor
(and subclasses)</p></td>
<td><p><a class="reference external" href="https://azure.microsoft.com/try/cognitive-services/my-apis/">Microsoft Computer Vision API</a></p></td>
<td><p>MICROSOFT_VISION_SUBSCRIPTION_KEY
MICROSOFT_SUBSCRIPTION_LOCATION</p></td>
<td><p>API key and
registered region</p></td>
<td><p>152b067184e2ae03711e6439de124c27
westus</p></td>
</tr>
<tr class="row-even"><td><p>MicrosoftAPIFaceExtractor
(and subclasses)</p></td>
<td><p><a class="reference external" href="https://azure.microsoft.com/try/cognitive-services/my-apis/">Microsoft Face API</a></p></td>
<td><p>MICROSOFT_FACE_SUBSCRIPTION_KEY
MICROSOFT_SUBSCRIPTION_LOCATION</p></td>
<td><p>API key and
registered region</p></td>
<td><p>152b067184e2ae03711e6439de124c27
westus</p></td>
</tr>
<tr class="row-odd"><td><p>ClarifaiAPIImageExtractor</p></td>
<td><p><a class="reference external" href="https://clarifai.com">Clarifai image recognition API</a></p></td>
<td><p>CLARIFAI_API_KEY</p></td>
<td><p>API key</p></td>
<td><p>168ed02e137459ead66c3a661be7b784</p></td>
</tr>
<tr class="row-even"><td><p>ClarifaiAPIVideoExtractor</p></td>
<td><p><a class="reference external" href="https://clarifai.com">Clarifai video tagging API</a></p></td>
<td><p>CLARIFAI_API_KEY</p></td>
<td><p>API key</p></td>
<td><p>168ed02e137459ead66c3a661be7b784</p></td>
</tr>
<tr class="row-odd"><td><p>RevAISpeechAPIConverter</p></td>
<td><p><a class="reference external" href="https://rev.ai">Rev.ai speech-to-text API</a></p></td>
<td><p>REVAI_ACCESS_TOKEN</p></td>
<td><p>API key</p></td>
<td><p>686n83674ab3989d2f5e4aa0aec9f273</p></td>
</tr>
</tbody>
</table>
<p>* Note that this is not the plaintext e-mail or username for your IBM services account</p>
<p>Once you’ve obtained API keys for the services you intend to use, there are two ways to get pliers to recognize and use your credentials. First, each API-based Transformer can be passed the necessary values (or a path to a file containing those values) as arguments at initialization. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pliers.extractors</span> <span class="kn">import</span> <span class="n">ClarifaiAPIImageExtractor</span>
<span class="n">ext</span> <span class="o">=</span> <span class="n">ClarifaiAPIImageExtractor</span><span class="p">(</span><span class="n">app_id</span><span class="o">=</span><span class="s1">&#39;my_clarifai_app_id&#39;</span><span class="p">,</span>
                                <span class="n">app_secret</span><span class="o">=</span><span class="s1">&#39;my_clarifai_app_secret&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, you can store the appropriate values as environment variables, in which case you can initialize a Transformer without any arguments. This latter approach is generally preferred, as it doesn’t require you to hardcode potentially sensitive values into your code. The mandatory environment variable names for each service are listed in the table above.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pliers.extractors</span> <span class="kn">import</span> <span class="n">GoogleVisionAPIFaceExtractor</span>
<span class="c1"># Works fine if GOOGLE_APPLICATION_CREDENTIALS is set in the environment</span>
<span class="n">ext</span> <span class="o">=</span> <span class="n">GoogleVisionAPIFaceExtractor</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="quickstart.html" class="btn btn-neutral float-right" title="Quickstart" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="pliers: a python package for automated feature extraction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2017, Developers of pliers.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>