

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Basic concepts &mdash; pliers 0.4.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Stims" href="stimuli.html" />
    <link rel="prev" title="Quickstart" href="quickstart.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pliers
          

          
          </a>

          
            
            
              <div class="version">
                0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installing pliers</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Basic concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#stims-and-transformers">Stims and Transformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#types-of-transformers">Types of Transformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chaining-transformers">Chaining transformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stimuli.html">Stims</a></li>
<li class="toctree-l1"><a class="reference internal" href="transformers.html">Transformers</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphs.html">Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuring pliers</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Pliers API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pliers</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Basic concepts</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/basic-concepts.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="basic-concepts">
<h1>Basic concepts<a class="headerlink" href="#basic-concepts" title="Permalink to this headline">¶</a></h1>
<p>Pliers is designed to provide a standardized, intuitive interface to a wide range of feature extraction tools and services. As such, the API is deliberately designed with simplicity in mind. It’s modeled loosely on patterns used in <a class="reference external" href="http://scikit-learn.org/">scikit-learn</a> (and now adopted by many other Python packages for machine learning and data science).</p>
<div class="section" id="stims-and-transformers">
<h2>Stims and Transformers<a class="headerlink" href="#stims-and-transformers" title="Permalink to this headline">¶</a></h2>
<p>At its core, the pliers architecture is based around two kinds of objects (and the interactions between them): the <code class="xref py py-class docutils literal notranslate"><span class="pre">Stim</span></code>, and the <code class="xref py py-class docutils literal notranslate"><span class="pre">Transformer</span></code>. A <code class="xref py py-class docutils literal notranslate"><span class="pre">Stim</span></code> class (‘stim’ is short for stimulus) is a pliers container for an object we want to extract features from –for example, a video clip or a text excerpt. A <code class="xref py py-class docutils literal notranslate"><span class="pre">Transformer</span></code> class provides functionality to <em>do</em> something with Stims–either to change the input Stim in some way (e.g.,by modifying its data, or turning it into a different kind of <code class="xref py py-class docutils literal notranslate"><span class="pre">Stim</span></code>), or to extract feature data from it.</p>
<p>To illustrate, consider a very simple example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pliers.stimuli</span> <span class="kn">import</span> <span class="n">ImageStim</span>
<span class="kn">from</span> <span class="nn">pliers.extractors</span> <span class="kn">import</span> <span class="n">GoogleVisionAPIFaceExtractor</span>

<span class="n">stim</span> <span class="o">=</span> <span class="n">ImageStim</span><span class="p">(</span><span class="s1">&#39;my_image.jpg&#39;</span><span class="p">)</span>
<span class="n">ext</span> <span class="o">=</span> <span class="n">GoogleVisionAPIFaceExtractor</span><span class="p">()</span>
<span class="n">face_features</span> <span class="o">=</span> <span class="n">ext</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">stim</span><span class="p">)</span>
</pre></div>
</div>
<p>The separation between the target of feature extraction (a JPEG image that we’re storing as an <code class="xref py py-class docutils literal notranslate"><span class="pre">ImageStim</span></code>) and the <code class="xref py py-class docutils literal notranslate"><span class="pre">Extractor</span></code> object that <em>transforms</em> that target is made clear here. This basic pattern persists throughout pliers workflows, no matter how many Transformers we string together, or how many Stim inputs we feed in.</p>
</div>
<div class="section" id="types-of-transformers">
<h2>Types of Transformers<a class="headerlink" href="#types-of-transformers" title="Permalink to this headline">¶</a></h2>
<p>Virtually all of the objects that perform operations on Stims in pliers are <code class="xref py py-class docutils literal notranslate"><span class="pre">Transformer</span></code>s. However, there are three distinct types of <code class="xref py py-class docutils literal notranslate"><span class="pre">Transformer</span></code> classes that users should be aware of:</p>
<ol class="arabic simple">
<li><p><strong>Extractors</strong> are Transformers that take a <code class="xref py py-class docutils literal notranslate"><span class="pre">Stim</span></code> as input and return some extracted feature data in the form of a <code class="xref py py-class docutils literal notranslate"><span class="pre">ExtractorResult</span></code> object (or, optionally, a pandas DataFrame). The <code class="xref py py-class docutils literal notranslate"><span class="pre">ExtractorResult</span></code> represents the natural end point of a pliers workflow. ExtractorResults contain extracted feature data (e.g., in the example above, the <code class="code py python docutils literal notranslate"><span class="name"><span class="pre">face_features</span></span></code> variable would contain information about any faces detected in the input image).</p></li>
<li><p><strong>Converters</strong> are Transformers that take a <code class="xref py py-class docutils literal notranslate"><span class="pre">Stim</span></code> object as input, and convert it to a different type of <code class="xref py py-class docutils literal notranslate"><span class="pre">Stim</span></code>. For example, the <code class="xref py py-class docutils literal notranslate"><span class="pre">VideoToAudioConverter</span></code> takes a <code class="xref py py-class docutils literal notranslate"><span class="pre">VideoStim</span></code> as input and returns an <code class="xref py py-class docutils literal notranslate"><span class="pre">AudioStim</span></code> as output (it does this simply by extracting the audio track from the video and wrapping it in a new <code class="xref py py-class docutils literal notranslate"><span class="pre">AudioStim</span></code> instance).</p></li>
<li><p><strong>Filters</strong> are Transformers that take a <code class="xref py py-class docutils literal notranslate"><span class="pre">Stim</span></code> object as input, and return a modified <code class="xref py py-class docutils literal notranslate"><span class="pre">Stim</span></code> of the <em>same</em> class. For example, the <code class="xref py py-class docutils literal notranslate"><span class="pre">ImageCroppingFilter</span></code> takes an <code class="xref py py-class docutils literal notranslate"><span class="pre">ImageStim</span></code> as input, and returns another <code class="xref py py-class docutils literal notranslate"><span class="pre">ImageStim</span></code> as output, where the image data stored in the Stim has been cropped in accordance with a bounding box specified when the <code class="xref py py-class docutils literal notranslate"><span class="pre">ImageCroppingFilter</span></code> was initialized.</p></li>
</ol>
<p>In practice, most users will interact frequently with Extractors, occasionally with Converters, and very rarely if ever with Filters. Part of the reason for this is that, as we’ll see in the next section, most conversion between <code class="xref py py-class docutils literal notranslate"><span class="pre">Stim</span></code> types can be accomplished implicitly in pliers, which can greatly reduce the amount of code one has to write in order to construct powerful feature extraction workflows (though at the potential cost of clarity).</p>
<p>For further details on the different <code class="xref py py-class docutils literal notranslate"><span class="pre">Transformer</span></code> types–as well as lists of all available classes–see the <a class="reference internal" href="transformers.html"><span class="doc">Transformers</span></a> section.</p>
</div>
<div class="section" id="chaining-transformers">
<h2>Chaining transformers<a class="headerlink" href="#chaining-transformers" title="Permalink to this headline">¶</a></h2>
<p>The Transformers implemented in pliers can individually be quite powerful–as exemplfied by the simple face detection example above. But the real power of the package comes into focus once we start combining Transformers. By connecting <code class="xref py py-class docutils literal notranslate"><span class="pre">Converter</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Filter</span></code>, and <code class="xref py py-class docutils literal notranslate"><span class="pre">Extractor</span></code> classes together into simple graphs (technically, trees), we open the door to extremely flexible, yet surprisingly terse, feature extraction workflows.</p>
<p>Here’s a minimal example that builds on our previous example using all three types of Transformers, and illustrates how easy it is to effectively “chain” Transformers:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pliers.stimuli</span> <span class="kn">import</span> <span class="n">VideoStim</span>
<span class="kn">from</span> <span class="nn">pliers.converters</span> <span class="kn">import</span> <span class="n">VideoFrameIterator</span>
<span class="kn">from</span> <span class="nn">pliers.filters</span> <span class="kn">import</span> <span class="n">FrameSamplingFilter</span>
<span class="kn">from</span> <span class="nn">pliers.extractors</span> <span class="kn">import</span> <span class="n">GoogleVisionAPIFaceExtractor</span><span class="p">,</span> <span class="n">merge_results</span>

<span class="n">video</span> <span class="o">=</span> <span class="n">VideoStim</span><span class="p">(</span><span class="s1">&#39;my_movie.mpg&#39;</span><span class="p">)</span>

<span class="c1"># Convert the VideoStim to a list of ImageStims</span>
<span class="n">conv</span> <span class="o">=</span> <span class="n">VideoFrameIterator</span><span class="p">()</span>
<span class="n">frames</span> <span class="o">=</span> <span class="n">conv</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">video</span><span class="p">)</span>

<span class="c1"># Sample 2 frames per second</span>
<span class="n">filt</span> <span class="o">=</span> <span class="n">FrameSamplingFilter</span><span class="p">(</span><span class="n">hertz</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">selected_frames</span> <span class="o">=</span> <span class="n">filt</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span>

<span class="c1"># Detect faces in all frames</span>
<span class="n">ext</span> <span class="o">=</span> <span class="n">GoogleVisionAPIFaceExtractor</span><span class="p">()</span>
<span class="n">face_features</span> <span class="o">=</span> <span class="n">ext</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">selected_frames</span><span class="p">)</span>

<span class="c1"># Merge results from all frames into one big pandas DataFrame</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">merge_results</span><span class="p">(</span><span class="n">face_features</span><span class="p">)</span>
</pre></div>
</div>
<p>We begin by reading in a video as a single <code class="xref py py-class docutils literal notranslate"><span class="pre">VideoStim</span></code>. We then explicitly convert the video to a set of discrete <code class="xref py py-class docutils literal notranslate"><span class="pre">ImageStim</span></code> objects (which allows us to use <code class="xref py py-class docutils literal notranslate"><span class="pre">Extractor</span></code> classes that expect image inputs). Next, we filter the list of video frames to retain only 2 frames per second (perhaps because we want to save ourselves some money by sending google fewer images to annotate). Lastly, we use the <code class="xref py py-class docutils literal notranslate"><span class="pre">GoogleVisionAPIFaceExtractor</span></code> to run face detection on each of the remaining images, just as in our previous example.</p>
</div>
<div class="section" id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h2>
<p>The above overview should give you a basic sense of the pliers architecture and interface, but there are some other points worth being aware of (all of which are described in more detail elsewhere in the docs):</p>
<ol class="arabic simple">
<li><p><em>Implicit Stim conversion</em>. Many conversion steps can be performed implicitly; e.g., in the listing above, we could have left out the <code class="xref py py-class docutils literal notranslate"><span class="pre">VideoFrameIterator</span></code> step entirely, and the <code class="xref py py-class docutils literal notranslate"><span class="pre">FrameSamplingFilter</span></code> would have performed the conversion implicitly. In fact, if we didn’t need to downsample the video to just 2 frames/second, we could also have left out the <code class="xref py py-class docutils literal notranslate"><span class="pre">FrameSamplingFilter</span></code> step, and the <code class="xref py py-class docutils literal notranslate"><span class="pre">GoogleVisionAPIFaceExtractor</span></code> would have then automatically performed face detection on every single frame of video.</p></li>
<li><p><em>The Graph abstraction</em>. While it’s generally good to be explicit, in cases where one needs to chain together a large number of Transformers, an explicit can make it quite hard to understand what’s going on at a glance. Fortunately, pliers provides a <a class="reference internal" href="graphs.html"><span class="doc">graph</span></a> abstraction that makes it much easier to specify complex graphs. It also provides rudimentary plotting capabilities, making it even easier to understand what’s happening.</p></li>
<li><p><em>Package-level configuration</em>. Pliers has a number of package-level settings that can be used to change the package’s behavior in important ways. These include basic control over caching, logging, and automatic parallelization, among other things. For more information, see the <a class="reference internal" href="config.html"><span class="doc">Configuring pliers</span></a> section.</p></li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="stimuli.html" class="btn btn-neutral float-right" title="Stims" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="quickstart.html" class="btn btn-neutral float-left" title="Quickstart" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2017, Developers of pliers.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>